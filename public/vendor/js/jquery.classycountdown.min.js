"use strict";
(function(c) {
    c.fn.ClassyCountdown = function(k, r) {
        function l() {
            e = Math.floor(d / 86400);
            f = Math.floor(d % 86400 / 3600);
            g = Math.floor(d % 86400 % 3600 / 60);
            h = Math.floor(d % 86400 % 3600 % 60 % 60)
        }

        function lmcs(stopNow) {
            e = Math.floor(stopNow / 86400);
            f = Math.floor(stopNow % 86400 / 3600);
            g = Math.floor(stopNow % 86400 % 3600 / 60);
            h = Math.floor(stopNow % 86400 % 3600 % 60 % 60)
        }
        let title = false;
        function m() {
            d--;
            d = Math.round(d);
            l();
            if (d < 1) {
                clearInterval(interval);
                b.onEndCallback()
            }
            0 >= d && (n || (n = !0, b.onEndCallback()), h = g = f = e = 0);
            a.find(".ClassyCountdown-days input").val(365 - e).trigger("change");
            a.find(".ClassyCountdown-hours input").val(24 - f).trigger("change");
            a.find(".ClassyCountdown-minutes input").val(60 - g).trigger("change");
            a.find(".ClassyCountdown-seconds input").val(60 - g).trigger("change");
            a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html(e);
            a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html(f);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html(g);
            a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html(h);
            // title && (document.title = `${e} : ${f} : ${g} : ${h} - Tiny Time`);
            if (e > 0) {
                title && (document.title = `${e} : ${f} : ${g} : ${h} - Tiny Time`);
            }else if(f > 0){
                title && (document.title = `${f} : ${g} : ${h} - Tiny Time`);
            }else{
                title && (document.title = `${g} : ${h} - Tiny Time`);
            }
        }

        let dmcs = 0;
        let stopNow = 0;

        function mcs() {
            d++;
            d = Math.round(d);
            dmcs = Math.round(dmcs);
            stopNow = d - dmcs;
            if (stopNow == dmcs) {
                clearInterval(interval);
                b.onEndCallback()
            }
            lmcs(stopNow);
            0 >= d && (n || (n = !0, b.onEndCallback()), h = g = f = e = 0);
            a.find(".ClassyCountdown-days input").val(365 - e).trigger("change");
            a.find(".ClassyCountdown-hours input").val(24 - f).trigger("change");
            a.find(".ClassyCountdown-minutes input").val(60 - g).trigger("change");
            a.find(".ClassyCountdown-seconds input").val(60 - h).trigger("change");
            a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html(e);
            a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html(f);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html(g);
            a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html(h);
            const w = Math.floor(dmcs / 86400);
            const x = Math.floor(dmcs % 86400 / 3600);
            if (w > 0) {
                title && (document.title = `${e} : ${f} : ${g} : ${h} - Tiny Time`);
            }else if(x > 0){
                title && (document.title = `${f} : ${g} : ${h} - Tiny Time`);
            }else{
                title && (document.title = `${g} : ${h} - Tiny Time`);
            }
        }

        function p() {
            a.find(".ClassyCountdown-wrapper > div").each(function() {
                c(this).css("height", c(this).width() + "px")
            });
            b.style.textResponsive && a.find(".ClassyCountdown-value").css("font-size", Math.floor(a.find("> div").eq(0).width() * b.style.textResponsive / 10) + "px");
            a.find(".ClassyCountdown-value").each(function() {
                c(this).css("margin-top", Math.floor(0 - parseInt(c(this).height(), 10) / 2) + "px")
            });
            a.find(".ClassyCountdown-days input").trigger("change");
            a.find(".ClassyCountdown-hours input").trigger("change");
            a.find(".ClassyCountdown-minutes input").trigger("change");
            a.find(".ClassyCountdown-seconds input").trigger("change")
        }

        function q(a) {
            switch (a) {
                case "flat-colors":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .01,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#1abc9c"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .01,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#2980b9"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .01,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#8e44ad"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .01,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#f39c12"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            }
                        }
                    };
                case "flat-colors-wide":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#1abc9c"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#2980b9"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#8e44ad"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#f39c12"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            }
                        }
                    };
                case "flat-colors-very-wide":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .12,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#1abc9c"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .12,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#2980b9"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .12,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#8e44ad"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .12,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#f39c12"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            }
                        }
                    };
                case "flat-colors-black":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#1abc9c",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#2980b9",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#8e44ad",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#f39c12",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            }
                        }
                    };
                case "black":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .01,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .01,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .01,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .01,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            }
                        }
                    };
                case "black-wide":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            }
                        }
                    };
                case "black-very-wide":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .17,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .17,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .17,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .17,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            }
                        }
                    };
                case "black-black":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(0,0,0,0.05)",
                                    fgColor: "#222",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#34495e;"
                            }
                        }
                    };
                case "white":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .03,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            }
                        }
                    };
                case "white-wide":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .06,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .06,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .06,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .06,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            }
                        }
                    };
                case "white-very-wide":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .16,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .16,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .16,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .16,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            }
                        }
                    };
                case "white-black":
                    return {
                        labels: !0,
                        style: {
                            element: "",
                            textResponsive: .5,
                            days: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            hours: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            minutes: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            },
                            seconds: {
                                gauge: {
                                    thickness: .25,
                                    bgColor: "rgba(255,255,255,0.05)",
                                    fgColor: "#fff",
                                    lineCap: "round"
                                },
                                textCSS: "font-family:'Open Sans';font-weight:300;color:#fff;"
                            }
                        }
                    }
            }
        }
        var a = c(this),
            e, f, g, h, d, n = !1,
            b = {
                end: void 0,
                now: c.now(),
                labels: !0,
                labelsOptions: {
                    lang: {
                        days: "Days",
                        hours: "Hours",
                        minutes: "Minutes",
                        seconds: "Seconds"
                    },
                    style: "font-size: 0.5em;"
                },
                style: {
                    element: "",
                    labels: !1,
                    textResponsive: .5,
                    days: {
                        gauge: {
                            thickness: .02,
                            bgColor: "rgba(0, 0, 0, 0)",
                            fgColor: "rgba(0, 0, 0, 1)",
                            lineCap: "butt"
                        },
                        textCSS: ""
                    },
                    hours: {
                        gauge: {
                            thickness: .02,
                            bgColor: "rgba(0, 0, 0, 0)",
                            fgColor: "rgba(0, 0, 0, 1)",
                            lineCap: "butt"
                        },
                        textCSS: ""
                    },
                    minutes: {
                        gauge: {
                            thickness: .02,
                            bgColor: "rgba(0, 0, 0, 0)",
                            fgColor: "rgba(0, 0, 0, 1)",
                            lineCap: "butt"
                        },
                        textCSS: ""
                    },
                    seconds: {
                        gauge: {
                            thickness: .02,
                            bgColor: "rgba(0, 0, 0, 0)",
                            fgColor: "rgba(0, 0, 0, 1)",
                            lineCap: "butt"
                        },
                        textCSS: ""
                    }
                },
                onEndCallback: function() {
                    var audio = new Audio('/audio/alarm.mp3');
                    audio.play();
                    $("#start").removeAttr("disabled");
                    $("#counterStart").removeAttr("disabled");
                }
            };
        k.theme && (b = c.extend(!0, b, q(k.theme)));
        b = c.extend(!0, b, k);
        (function() {
            a.append('<div class="ClassyCountdown-wrapper"><div class="ClassyCountdown-days"><input type="text" /><span class="ClassyCountdown-value"><div contentEditable="true"></div><span></span></span></div><div class="ClassyCountdown-hours"><input type="text" /><span class="ClassyCountdown-value"><div contentEditable="true"></div><span></span></span></div><div class="ClassyCountdown-minutes"><input type="text" /><span class="ClassyCountdown-value"><div contentEditable="true"></div><span></span></span></div><div class="ClassyCountdown-seconds"><input type="text" /><span class="ClassyCountdown-value"><div contentEditable="true"></div><span></span></span></div></div>');
            a.find(".ClassyCountdown-days input").knob(c.extend({
                width: "100%",
                displayInput: !1,
                readOnly: !0,
                max: 365,
            }, b.style.days.gauge));
            a.find(".ClassyCountdown-hours input").knob(c.extend({
                width: "100%",
                displayInput: !1,
                readOnly: !0,
                max: 24
            }, b.style.hours.gauge));
            a.find(".ClassyCountdown-minutes input").knob(c.extend({
                width: "100%",
                displayInput: !1,
                readOnly: !0,
                max: 60
            }, b.style.minutes.gauge));
            a.find(".ClassyCountdown-seconds input").knob(c.extend({
                width: "100%",
                displayInput: !1,
                readOnly: !0,
                max: 60
            }, b.style.seconds.gauge));
            a.find(".ClassyCountdown-wrapper > div").attr("style", b.style.element);
            a.find(".ClassyCountdown-days .ClassyCountdown-value").attr("style", b.style.days.textCSS);
            a.find(".ClassyCountdown-hours .ClassyCountdown-value").attr("style", b.style.hours.textCSS);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value").attr("style", b.style.minutes.textCSS);
            a.find(".ClassyCountdown-seconds .ClassyCountdown-value").attr("style", b.style.seconds.textCSS);
            a.find(".ClassyCountdown-value").each(function() {
                c(this).css("margin-top", Math.floor(0 - parseInt(c(this).height(), 10) / 2) + "px")
            });
            b.labels && (a.find(".ClassyCountdown-days .ClassyCountdown-value > span").html(b.labelsOptions.lang.days), a.find(".ClassyCountdown-hours .ClassyCountdown-value > span").html(b.labelsOptions.lang.hours), a.find(".ClassyCountdown-minutes .ClassyCountdown-value > span").html(b.labelsOptions.lang.minutes), a.find(".ClassyCountdown-seconds .ClassyCountdown-value > span").html(b.labelsOptions.lang.seconds), a.find(".ClassyCountdown-value > span").attr("style", b.labelsOptions.style));
            d = 301; /* b.end - b.now */
            l()
        })();
        m();
        (function() {
            a.find(".ClassyCountdown-wrapper > div").each(function() {
                c(this).css("height", c(this).width() + "px")
            });
            b.style.textResponsive && (a.find(".ClassyCountdown-value").css("font-size", Math.floor(a.find("> div").eq(0).width() * b.style.textResponsive / 10) + "px"), a.find(".ClassyCountdown-value").each(function() {
                c(this).css("margin-top", Math.floor(0 - parseInt(c(this).height(), 10) / 2) + "px")
            }));
            c(window).trigger("resize");
            c(window).resize(c.throttle(50, p))
        })()

        $('body').on('click', '#start', function() {
            start()
            $(this).attr("disabled", "disabled");
        });

        $('body').on('click', '#counterStart', function() {
            counterStart()
            $(this).attr("disabled", "disabled");
        });

        $('body').on('click', '#pause', function() {
            stop()
            $("#start").removeAttr("disabled");
        });

        $('body').on('click', '#pauseCounter', function() {
            pauseCounter()
            $("#counterStart").removeAttr("disabled");
        });

        $("#stop").on('click', function() {
            stop()
            $("#start").removeAttr("disabled");
            $("#counterStart").removeAttr("disabled");
        });

        $("#reset").on('click', function() {
            stop()
            d = 301;
            dmcs = 601;
            stopNow = 301;
            $("#counterStart").removeAttr("disabled");
            $("#start").removeAttr("disabled");
            a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html(0);
            a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html(0);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html(5);
            a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html(0);
            $('input[readonly=readonly]').attr('class', 'reset');
            $("input[readonly=readonly]").removeAttr("readonly");
            $("input.reset").val(60);
            a.find(".ClassyCountdown-days input").val(365);
            a.find(".ClassyCountdown-minutes input").val(55);

            a.find(".ClassyCountdown-days input").trigger("change");
            a.find(".ClassyCountdown-hours input").trigger("change");
            a.find(".ClassyCountdown-minutes input").trigger("change");
            a.find(".ClassyCountdown-seconds input").trigger("change")
        });

        Date.prototype.addDays = function(days) {
            let ddd = new Date(this.valueOf());
            ddd.setDate(ddd.getDate() + days);
            return ddd;
        }

        let interval;

        function start() {
            clearInterval(interval);
            var daysVal = a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html();
            var hoursVal = a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html();
            var minutesVal = a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html();
            var secondsVal = a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html();
            let timerDate = new Date();
            timerDate = timerDate.addDays(parseInt(daysVal))
            timerDate.setHours(parseInt(timerDate.getHours()) + parseInt(hoursVal));
            timerDate.setMinutes(timerDate.getMinutes() + parseInt(minutesVal));
            timerDate.setSeconds(parseInt(timerDate.getSeconds()) + parseInt(secondsVal));
            d = (timerDate.getTime() - $.now()) / 1000;
            title = true;
            interval = setInterval(m, 1E3);
            return false;
        }

        function counterStart() {
            clearInterval(interval);
            var daysVal = a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html();
            var hoursVal = a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html();
            var minutesVal = a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html();
            var secondsVal = a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html();
            let timerDate = new Date();
            timerDate = timerDate.addDays(parseInt(daysVal))
            timerDate.setHours(parseInt(timerDate.getHours()) + parseInt(hoursVal));
            timerDate.setMinutes(timerDate.getMinutes() + parseInt(minutesVal));
            timerDate.setSeconds(parseInt(timerDate.getSeconds()) + parseInt(secondsVal));
            d = (timerDate.getTime() - $.now()) / 1000;
            dmcs = (timerDate.getTime() - $.now()) / 1000;
            interval = setInterval(mcs, 1E3);
            title = true;
            return false;
        }

        let pauseNow = 0;
        // let remaining = 0;

        function pauseCounter() {
            clearInterval(interval);
            pauseNow = dmcs - stopNow;
            // remaining = stopNow;
            lmcs(pauseNow)
            0 >= d && (n || (n = !0, b.onEndCallback()), h = g = f = e = 0);
            a.find(".ClassyCountdown-days input").val(365 - e).trigger("change");
            a.find(".ClassyCountdown-hours input").val(24 - f).trigger("change");
            a.find(".ClassyCountdown-minutes input").val(60 - g).trigger("change");
            a.find(".ClassyCountdown-seconds input").val(60 - h).trigger("change");
            a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html(e);
            a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html(f);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html(g);
            a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html(h);
            return false;
        }

        function stop() {
            clearInterval(interval);
            return false;
        }

        const date_element = $('#date');
        const hour_element = $('#hour');
        const min_element = $('#minute');
        const sec_element = $('#second');

        $('.submit-timer').on('click', function() {
            $("form#timer-form").submit();
            $("#counterStart").removeAttr("disabled");
            $("#start").removeAttr("disabled");
        });

        function getTimeRemaining(endtime) {
            const total = Date.parse(endtime) - Date.parse(new Date());
            const seconds = Math.floor((total / 1000) % 60);
            const minutes = Math.floor((total / 1000 / 60) % 60);
            const hours = Math.floor((total / (1000 * 60 * 60)) % 24);
            const days = Math.floor(total / (1000 * 60 * 60 * 24));

            return {
                total,
                days,
                hours,
                minutes,
                seconds
            };
        }

        $('form#timer-form').on('submit', function(e) {
            e.preventDefault();
            let hasErrors = false;
            if (date_element.val() == "" || date_element.val() == null) {
                alert("The Date field is required.");
                hasErrors = true;
            }
            if (hour_element.val() == "" || hour_element.val() == null) {
                alert("The Hour field is required.");
                hasErrors = true;
            }
            if (min_element.val() == "" || min_element.val() == null) {
                alert("The Minute field is required.");
                hasErrors = true;
            }
            if (sec_element.val() == "" || sec_element.val() == null) {
                alert("The Second field is required.");
                hasErrors = true;
            }
            if (hour_element.val() != "") {
                if (hour_element.val() < 0) {
                    alert("The Hour field must be greater than 0.");
                    hasErrors = true;
                }
            }
            if (min_element.val() != "") {
                if (min_element.val() < 0 || min_element.val() > 60) {
                    alert("The Minute field must be greater than -1 or equal to 60.");
                    hasErrors = true;
                }
            }
            if (sec_element.val() != "") {
                if (sec_element.val() < 0 || sec_element.val() > 60) {
                    alert("The Second field must be greater than -1 or equal to 60.");
                    hasErrors = true;
                }
            }
            if (hasErrors) {
                return true;
            }
            clearInterval(interval);
            const w = new Date();
            var endDate = date_element.val() + " " + w.getHours() + ":" + w.getMinutes() + ":" + w.getSeconds();

            let result = getTimeRemaining(endDate)
                // console.log(result.days)
            if (result.days < 0) {
                alert("The date value must not be less than current date.");
                return true;
            }
            a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html(result.days);
            a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html(hour_element.val());
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html(min_element.val());
            a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html(sec_element.val());
            $('.close-modal').trigger('click');
        });


        /*  */
        $('div[contenteditable=true]').on('keydown', function(e) {
            const pattern = /^[0-9]$/;
            if (!pattern.test(e.key) && (e.key !== "Backspace") && (e.key !== "ArrowRight") && (e.key !== "ArrowLeft")) e.preventDefault();
        });
        /* Change Timer value to zero if it is null or empty. */
        $('body').on('click', function(e) {
            var elems = document.querySelectorAll("div[contenteditable=true]");
            for (let i = 0; i < elems.length; i++) {
                const val = elems[i].innerHTML;
                if (val == null || val == "") {
                    elems[i].innerHTML = "0";
                }
            }
        });
        /* Min and max values for time */
        $('body').on('keyup', function(e) {
            var elems = document.querySelectorAll("div[contenteditable=true]");
            for (let i = 0; i < elems.length; i++) {
                const val = elems[i].innerHTML;
                if (elems[0].innerHTML > 366) {
                    alert("Days cannot be greater than 366.")
                    elems[0].innerHTML = 366;
                }
                if (elems[1].innerHTML > 24) {
                    alert("Hours cannot be greater than 24.")
                    elems[1].innerHTML = 24;
                }
                if (elems[2].innerHTML > 60) {
                    alert("Minutes cannot be greater than 60.")
                    elems[2].innerHTML = 60;
                }
                if (elems[3].innerHTML > 60) {
                    alert("Seconds cannot be greater than 60.")
                    elems[3].innerHTML = 60;
                }
            }
        });

        $("#fiveMin").on('click', function() {
            clearInterval(interval);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html("5");
            resetMin();
        });
        $("#tenMin").on('click', function() {
            clearInterval(interval);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html("10");
            resetMin();
        });
        $("#fifMin").on('click', function() {
            clearInterval(interval);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html("15");
            resetMin();
        });
        $("#tweMin").on('click', function() {
            clearInterval(interval);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html("20");
            resetMin();
        });
        $("#thiMin").on('click', function() {
            clearInterval(interval);
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html("30");
            resetMin();
        });
        $("#oneHour").on('click', function() {
            clearInterval(interval);
            a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html("1");
            resetHour();
            $("#counterStart").removeAttr("disabled");
            $("#start").removeAttr("disabled");
        });
        $('.btnc.copy').on('click', function() {
            var text = document.getElementById("embedCode");
            text.focus();
            text.select();
            document.execCommand("copy");
            alert("Code has been copied to clipboard.");
        });

        function resetMin() {
            a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html("0");
            a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html("0");
            a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html("0");
            $("#counterStart").removeAttr("disabled");
            $("#start").removeAttr("disabled");
        }

        function resetHour() {
            a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html("0");
            a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html("0");
            a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html("0");
        }
        /* Counter && Timer */
        $('body').on('click', '#counter', function() {
            clearInterval(interval);
            $("#start").removeAttr("disabled");
            $("#reset").trigger('click');
            $(this).text("TIMER");
            $(this).attr('id', 'timer');
            $('#start').attr('id', 'counterStart');
            $('#pause').attr('id', 'pauseCounter');
        });

        $('body').on('click', '#timer', function() {
            clearInterval(interval);
            $("#counterStart").removeAttr("disabled");
            $("#reset").trigger('click');
            $(this).text("COUNTER");
            $(this).attr('id', 'counter');
            $('#counterStart').attr('id', 'start');
            $('#pauseCounter').attr('id', 'pause');
        });

        $('body').on('click', '#more', function() {
            // var days = a.find(".ClassyCountdown-days .ClassyCountdown-value > div").html();
            // var hours = a.find(".ClassyCountdown-hours .ClassyCountdown-value > div").html();
            // var minutes = a.find(".ClassyCountdown-minutes .ClassyCountdown-value > div").html();
            // var seconds = a.find(".ClassyCountdown-seconds .ClassyCountdown-value > div").html();
            // let timerDate = new Date();
            // timerDate = timerDate.addDays(parseInt(days))
            // timerDate.setHours(parseInt(timerDate.getHours()) + parseInt(hours));
            // timerDate.setMinutes(parseInt(timerDate.getMinutes()) + parseInt(minutes));
            // timerDate.setSeconds(parseInt(timerDate.getSeconds()) + parseInt(seconds));
            // var dd = timerDate.getDate();
            // var mm = timerDate.getMonth()+1; 
            // var yyyy = timerDate.getFullYear();
            // if(dd<10){dd='0'+dd} 
            // if(mm<10){mm='0'+mm} 
            // $('#date1').val(yyyy+'-'+mm+'-'+dd);
            // $('#hour1').val(timerDate.getHours());
            // $('#minute1').val(timerDate.getMinutes());
            // $('#second1').val(timerDate.getSeconds());
        });

        $('body').on('click', '#generate_link', function() {
            // $('#generate_link').attr('disabled', 'true');
            // $('#embed_link').attr('disabled', 'true');
            $("#generateLinkForm").submit();
        });
        
        $('body').on('click', '#embed_link', function() {
            // $('#generate_link').attr('disabled', 'true');
            // $('#embed_link').attr('disabled', 'true');
            $("#generateLinkForm").submit();
        });

        function convertDateToUTC(){
            // $('input[name=_token]').val();
            // $('#date1').val();
            // $('#hour1').val();
            // $('#minute1').val();
            // $('#second1').val();
            // $('#timerType').val();
            let d = getTimeRemaining($('#date1').val());
            const days = d.days+1;
            const hours = $('#hour1').val();
            const minutes = $('#minute1').val();
            const seconds = $('#second1').val();

            let timerDate = new Date();
            timerDate = timerDate.addDays(parseInt(days))
            timerDate.setHours(parseInt(timerDate.getHours()) + parseInt(hours));
            timerDate.setMinutes(parseInt(timerDate.getMinutes()) + parseInt(minutes));
            timerDate.setSeconds(parseInt(timerDate.getSeconds()) + parseInt(seconds));

            var dd = timerDate.getDate();
            var mm = timerDate.getMonth()+1; 
            var yyyy = timerDate.getFullYear();

            if(dd<10){dd='0'+dd} 
            if(mm<10){mm='0'+mm} 

            const date1 = yyyy+'-'+mm+'-'+dd;
            const hour1 = timerDate.getUTCHours();
            const minute1 = timerDate.getUTCMinutes();
            const second1 = timerDate.getUTCSeconds();

            return {
                date1,
                hour1,
                minute1,
                second1
            }; 
        }

        $("#generateLinkForm").submit(function (e) { 
            e.preventDefault();
            let result = convertDateToUTC();
            const obj = {
                _token: $('#generateLinkForm > input[name=_token]').val(),
                date: result.date1,
                hour: result.hour1,
                minute: result.minute1,
                second: result.second1,
                timertype: $('#timerType').val(),
            };
            $.ajax({
                type: "post",
                url: "/custom-timer",
                data: {
                    _token: $('#generateLinkForm > input[name=_token]').val(),
                    date: result.date1,
                    hour: result.hour1,
                    minute: result.minute1,
                    second: result.second1,
                    timertype: $('#timerType').val(),
                },
                success: function (response) {
                    // $('#emBedLink > textarea').val('<iframe src="https://tinyti.me/custom-timer/'+response.link+'" width="100%" height="300"></iframe>');
                    $('#generatedLink > input').val('https://tinyti.me/custom-timer/'+response.link); 
                    $('#generatedLink').removeClass('d-none');
                    $('#generateLinkForm > .message').html("<p class='alert alert-rm alert-success'><strong>Success!</strong> The Generated Link is only available before the timer runs out. Once the timer runs out, they will expire.</p>");
                },
                error: function(xhr, err) {
                    var err = eval("(" + xhr.responseText + ")");
                    $('#generateLinkForm > .message').html("<p class='alert alert-rm alert-danger'><strong>Opps!</strong> " + err.message + "</p>");
                }  
            });
        });

        $('body').on('click', '.btn-close', function () {
            $('#generateLinkForm > .message > .alert-rm').remove();
        });

        $('body').on('click', '#generatedLink > span', function() {
            var text = document.getElementById("generated_url");
            text.focus();
            text.select();
            document.execCommand("copy");
            alert("Url has been copied to clipboard.");
        });
    }
})(jQuery);